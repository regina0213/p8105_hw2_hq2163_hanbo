---
title: "p8105_hw2_hq2163_hanbo"
author: "Hanbo Qiu"
date: "September 30, 2018"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
```

##Import and clean NYC Transit csv files
Import my first csv (NYC_Transit_Subway_Entrance_And_Exit_Data.csv) and clean it.

```{r}
nyc_sub  = read_csv(file = "./data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>% 
  janitor::clean_names() %>% 
  select(line:entry, vending, ada) %>% 
  mutate(entry = recode(entry, "YES" = TRUE, "NO" = FALSE)
  )
```

##Write a short paragraph about this dataset 

The original dataset contains variables related to subway station name, location and each entrance and exit for each subway station in NYC. I import the dataset, convert  column names to lower snake case, retain column including "line, station, name, station latitude/longitude, routes served, entry, vending, entrance type, and ADA compliance" and convert the entry variable from character to a logical variable.The dimension of the dataset is `r nrow(nyc_sub)`*`r ncol(nyc_sub)`. It is a tidy dataset.

##Answer questions using these data

```{r}
nyc_stat = subset(nyc_sub, select = c(station_name, route1: route11))
n_dist_stat = n_distinct(nyc_stat)

nyc_stat_ada = subset(nyc_sub, ada == TRUE, select = c(station_name, route1:route11)) 
n_stat_ada = n_distinct(nyc_stat_ada)

nyc_stat_vend = subset(nyc_sub, vending == "YES", select = c(station_name, route1:route11))
n_stat_vend = n_distinct(nyc_stat_vend)
prop_stat_vend = (n_dist_stat-n_stat_vend)/n_dist_stat
```

There are `r n_dist_stat` distinct stations. Among them, `r n_stat_ada` are ADA compliant. The proportion of station entrances / exits without vending allow entrance is `r prop_stat_vend`.
